# Project Task YAML Generation Prompt

## Agent Instructions

You are a project manager at a FAANG level company. One project away from making your next promotion and some serious compensation increases. Like 6 figure changes. So you need to crush this one.

## Project Information

### Links to Relevant Resources
pygame client
- $HOME/git/Blackholio/client-pygame

unity client
- $HOME/git/Blackholio/client-unity

ML agent client
- $HOME/git/blackholio-agent

rust server
- $HOME/git/Blackholio/server-rust

csharp server
- $HOME/git/Blackholio/server-csharp

python server
- $HOME/git/Blackholio/server-python

go server
- $HOME/git/Blackholio/server-go

SpacetimeDB server code
- $HOME/git/workspace/SpacetimeDB

SpacetimeDB CLI binary
- /Users/punk1290/git/SpacetimeDB/target/release/spacetimedb-cli

```bash
spacetimedb-cli generate --help
Generate client files for a spacetime module.

Usage: spacetime generate --lang <LANG> --out-dir <DIR> [--project-path <DIR> | --bin-path <PATH>]

Options:
  -b, --bin-path <wasm_file>           The system path (absolute or relative) to the compiled wasm binary we should inspect
  -p, --project-path <project_path>    The system path (absolute or relative) to the project you would like to inspect [default: .]
  -o, --out-dir <out_dir>              The system path (absolute or relative) to the generate output directory
      --namespace <namespace>          The namespace that should be used [default: SpacetimeDB.Types]
  -l, --lang <lang>                    The language to generate [possible values: csharp, go, typescript, rust, python]
      --build-options <build_options>  Options to pass to the build command, for example --build-options='--lint-dir=' [default: ]
  -y, --yes                            Run non-interactively wherever possible. This will answer "yes" to almost all prompts, but will sometimes answer "no" to preserve non-interactivity (e.g. when prompting whether to log in with spacetimedb.com).
  -h, --help                           Print help

Run `spacetime help publish` for more detailed information.
```

### Project Description
We have two teams who are currently creating Blackholio in python clients. We have a machine learning client in $HOME/git/blackholio-agent And then we have pygame client in python in $HOME/git/Blackholio/client-pygame

The client in $HOME/git/blackholio-agent tends to be more complete and functional currently.

Our current project needs to be transformed into a python package published to github that $HOME/git/blackholio-agent and $HOME/git/Blackholio/client-pygame can import. Right now we are implementing the same fixes in each project and not always making the same fixes. This is wasting a lot of money.

We should support environment variables to set server IP address and port. 

Additionally this shared code needs to support swapping out the client files generated by `spacetimedb-cli generate`. We should use `spacetimedb-cli generate` to get python clients for each server language. We want to default to the generated code for $HOME/git/Blackholio/server-rust. But if an environment variable of SERVER_LANGUAGE is set then we want to use the generated code for $HOME/git/Blackholio/server-$SERVER_LANGUAGE

This client will be used with $HOME/git/blackholio-agent and built into a docker container. This docker container will be have one copy running per server language with the appropriate environment variable set. They will use the server IP address environment variable to point their client at the server deployed with the appropriate language. The business logic of which IP addresses are associated with which server langauge will be implemented by $HOME/git/blackholio-agent

### Technical Stack
- python
- spacetimedb
- blackholio

### Specific Requirements
- usable by $HOME/git/blackholio-agent
- can be imported via the public github repo
- environment variable to switch between different clients generated by /Users/punk1290/git/SpacetimeDB/target/release/spacetimedb-cli
- environment variable to set server IP
- environment variable to set server port

## Your Task

Please ultrathink about this project and create a comprehensive task YAML file at `proompts/task.yaml` following the exact format of `$GIT_DIRECTORY/proompting/tasks.yaml`.

This YAML file will be executed on by a team of senior engineers. Make sure it has enough context in it for them to crush it. Remember this is the big one!

## YAML Structure Requirements

Your output must include:

1. **Metadata Section**
   - Project name
   - Comprehensive description
   - Complete tech stack listing

2. **Phases Section**
   - Logical project phases (e.g., Setup, Core Development, Testing, Deployment)
   - Each phase should have a clear name and purpose

3. **Tasks Within Each Phase**
   - Unique task IDs
   - Clear, actionable task names
   - Detailed descriptions with context
   - Priority levels (critical/high/medium/low)
   - Status (pending/in-progress/completed)
   - Dependencies between tasks

4. **Dependencies Section**
   - External project dependencies
   - Required tasks from other teams/projects

5. **Notes Section**
   - Best practices to follow
   - Important considerations
   - Technical guidelines
   - Quality standards

6. **Updates Section**
   - Space for tracking progress updates

## Key Considerations

- **Task Granularity**: Break down work into manageable chunks that can be completed in 1-3 days
- **Dependencies**: Carefully map out task dependencies to avoid blockers
- **Priority**: Mark critical path items appropriately
- **Context**: Each task should have enough detail that any senior engineer can pick it up
- **Testability**: Include testing tasks throughout, not just at the end
- **Documentation**: Include documentation tasks for each major component

## Example Task Entry

```yaml
- id: setup-authentication
  name: "Implement JWT authentication system"
  description: "Set up JWT-based authentication with refresh tokens, including middleware for route protection and token validation"
  priority: critical
  status: pending
  dependencies: [setup-api-framework, setup-database]
  references: ["$HOME/docs/jwt","https://datatracker.ietf.org/doc/html/rfc7519"]
```

## Context Documentation

Any important context, documentation, or reference materials that should be shared across AI agents working on this project should be placed in `/proompts/docs/`. This directory serves as a persistent knowledge base that all agents can reference to maintain consistency and understanding throughout the project lifecycle.

## Final Notes

Remember: This task list is your roadmap to that promotion. The clearer and more comprehensive your task breakdown, the smoother the execution will be. Think through edge cases, consider rollback strategies, and ensure every critical path item is accounted for.

Good luck - make this count! ðŸš€
